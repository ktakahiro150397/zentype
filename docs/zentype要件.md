ZenType 要件定義書 - 完全版

# 1. プロジェクト概要
   「ZenType」は、タイピングスキル向上に特化した、究極にミニマルでモダンなWebアプリケーションです。ユーザーは余計な要素に気を取られることなくタイピング練習に没頭し、自身の成長を詳細なデータで把握し、モチベーションを維持できる環境を提供します。すべての操作がキーボードで完結する「キーボードフレンドリー」な設計を特徴とします。

# 2. 目的
   ユーザーがタイピングスキルを効率的かつ楽しく向上させる。
   モダンで洗練された、視覚的ノイズの少ないタイピング体験を提供する。
   キーボード操作のみでサイトの全機能を完結させ、高い生産性を実現する。
   詳細な成績記録と分析により、ユーザーの成長を可視化し、モチベーションを維持する。
   称号システムとランキング機能により、ユーザーの達成感と継続意欲を刺激する。

# 3. ターゲットユーザー
   タイピング初心者から上級者まで、全てのレベルのタイピングスキル向上を目指すユーザー。
   集中してタイピング練習に取り組みたいユーザー。
   データに基づいて自身の成長を分析したいユーザー。
   ミニマルで洗練されたUI/UXを好むユーザー。

# 4. 機能要件

## 4.1. ユーザー認証・管理
    - アカウント作成・ログイン: Googleアカウントによるソーシャルログインのみ。
    - ログアウト: ログイン済みアカウントからのログアウト機能。
    - プロフィール設定: ユーザー名、表示設定（キーボードの種類など、後述）の変更。（MVP段階では最小限）

## 4.2. タイピング練習機能## 4.2. タイピング練習機能
    - モード選択（MVP段階）:
        - 標準練習: 厳選された短文・名言を使用した基本的な練習モード。
        - （将来拡張）長文練習: 小説の一節、ニュース記事、技術文書など、まとまった文章の練習テキストを使用。
        - （将来拡張）苦手ワード克服練習: ユーザーの過去の成績に基づき、苦手な単語やキーの組み合わせを統計的に抽出し、それらを重点的に練習できるモード。
        - （将来拡張）カスタム練習: ユーザーが任意のテキストを貼り付けて練習できるモード。
    - 練習中の表示:
        - 入力中のテキスト、完了済みテキスト、未入力テキストを視覚的に区別して表示。
        - リアルタイムでのWPM（Words Per Minute）、正打率、残り時間（または経過時間）の表示。
        - ミスタッチ箇所は即座にハイライト表示（例：赤字）し、視覚的にフィードバック。
        - 設定により、仮想キーボード（現在押すべきキーをハイライト表示）の表示/非表示を切り替え可能。
    - 練習結果の表示:
        - 練習終了後、WPM、正打率、ミスタイプ数、入力時間、BackSpace使用回数などの詳細な結果を表示。
        - ミスタッチした単語やキーのリストを表示し、復習を促す。    - 練習テキストのカスタマイズ（将来拡張）:
        - 文字数制限、難易度（易しい/普通/難しい）、使用文字種（英数字のみ/記号含む/かな入力対応など）の選択。
        - カテゴリ別（プログラミングコード、ニュース、小説など）の練習テキスト選択。

## 4.3. 成績記録・分析機能
    - 成績履歴（MVP段階）:
        - 全練習セッションの履歴をシンプルなテーブル形式で表示。
        - 各セッションのWPM、正打率、ミスタイプ数、入力時間、使用テキストなどを確認可能。
    - （将来拡張）ダッシュボード:
        - 総合的なタイピング成績（累計WPM、平均正打率、総タイピング文字数など）の概要表示。
        - 最新の練習結果サマリー。
        - 進捗グラフ（日次/週次/月次でのWPM、正打率の推移）。
    - （将来拡張）苦手分析:
        - 頻繁にミスタイプする単語やキーのリスト表示。
        - 特定のキーの入力速度や正確性の傾向をグラフで表示。
        - 統計的な弱点分析レポートの生成。

## 4.4. モチベーション機能（将来拡張）
    - 称号システム:
        - 特定の条件達成でユニークな称号（例：「無心のタイピスト」「閃光の指先」「鋼の正確性」など）を自動付与。
        - 称号獲得条件の例：
            - 累計入力文字数：10万文字、100万文字、500万文字など
            - 平均WPM：60WPM、80WPM、100WPMなど達成
            - 正打率：99%以上を100回達成
            - 特定の長文をノーミスでクリア
            - 連続ログイン日数：7日、30日、90日など
        - 獲得した称号はユーザーのプロフィールページに表示。
    - ランキング:
        - 全体ランキング: 総合WPM、平均WPM、最高WPM（特定のモード）などの指標に基づいた全ユーザーランキング。
        - ランキングはWPMだけでなく、「正確性ランキング」「ロングランランキング（長文タイピング）」など、多様な指標で楽しめます。

## 4.5. 設定
    - タイピング設定:
        - キーボード配列選択（QWERTY、Dvorak、かな入力など）。
        - 入力中の文字色、背景色、フォントサイズのカスタマイズ。
        - リアルタイムフィードバック（ミスタッチ表示）のON/OFF。
        - 仮想キーボードの表示/非表示。
    - サウンド設定: キー音、エラー音のON/OFF、音量調整。
    - 通知設定: 称号獲得通知、ランキング更新通知などのON/OFF。

# 5. 非機能要件

## 5.1. UI/UX (ユーザーインターフェース/ユーザーエクスペリエンス)
    - モダンでミニマルなデザイン: 余計な装飾を排し、コンテンツと機能に集中できるクリーンなデザイン。
    - キーボードフレンドリー: 頻繁に使用する操作がキーボードショートカットで完結する。（練習開始: Enter、中断: Esc、設定: ? など）
    - ショートカットキー一覧の表示（ヘルプまたは設定画面）。
    - 直感的な操作性: 初めてのユーザーでも迷わず利用できる分かりやすいナビゲーションとレイアウト。
    - 高速なレスポンス: タイピング中の入力遅延がないこと、画面遷移がスムーズであること。

## 5.2. パフォーマンス
    - 大量のユーザーデータや練習履歴が記録されても、表示・処理速度が低下しないこと。
    - リアルタイムでのWPM計算やフィードバックが滞りなく行われること。

## 5.3. スケーラビリティ
    - ユーザー数増加に対応できるシステムアーキテクチャ。
    - 将来的な機能追加に対応できる拡張性。

## 5.4. セキュリティ
    - ユーザー認証情報の安全な管理（パスワードのハッシュ化など）。
    - 一般的なWebセキュリティ対策（XSS, CSRF対策など）。

## 5.5. 信頼性
    - システムダウンタイムを最小限に抑える安定した稼働。
    - データ損失を防ぐための適切なバックアップ体制。

## 5.6. 互換性
    - 主要なWebブラウザ（Chrome, Firefox, Safari, Edge）の最新バージョンで正常に動作すること。
    - レスポンシブデザインにより、様々な画面サイズ（デスクトップ、タブレット）で適切に表示されること。（ただし、タイピングサイトの性質上、デスクトップ/ラップトップでの利用が主眼）

# 6. 技術スタック
   フロントエンド & バックエンド (API): Next.js (TypeScript) - App Router
   Next.jsのApp Routerを利用して、フロントエンドのレンダリングとAPIエンドポイントを提供。
   TypeScriptによる型安全な開発を徹底。
   データベース & 認証: Supabase (PostgreSQL + Auth)
   選定理由:
   PostgreSQLデータベースと認証機能が統合されており、開発効率が高い。
   ユーザー情報、練習セッションの成績の管理に最適。
   複雑なクエリによる集計や分析が容易であり、ランキングや統計データの算出に強みを発揮。
   Googleログインなどのソーシャル認証が簡単に実装可能。
   無料枠が充実しており、段階的にスケールできるコスト構造。
   Next.jsとの親和性が高く、豊富なドキュメントとコミュニティサポート。
   バージョン管理: GitHub
   リポジトリ管理、Issuesによるタスク管理、Pull Requestによるコードレビューフロー。
   GitHub Actions を利用したCI/CD (継続的インテグレーション/継続的デリバリー) パイプラインの構築。
   ホスティング環境: Vercel
   Next.jsとの完璧な統合、自動デプロイ、プレビュー機能。

# 7. 開発フェーズ（修正版）
   MVP (Minimum Viable Product) 開発:
   Googleログイン/ログアウト
   標準練習モード（1つのテキストセット）
   基本的な成績記録（WPM, 正打率, ミスタイプ数）
   成績履歴のテーブル表示
   基本的なキーボードショートカット（Enter: 開始, Esc: 中断, Tab: 次へ）
   機能拡張フェーズ1:
   複数の練習テキスト・モード
   詳細な成績分析（苦手ワード、グラフ表示）
   プロフィール設定の拡張
   機能拡張フェーズ2:
   称号システム
   ランキングシステム（全体ランキング）
   統計的な苦手ワード分析
   継続的改善:
   カスタム練習モード
   高度なカスタマイズ機能
   多言語対応（必要であれば）
   パフォーマンス改善、バグ修正
